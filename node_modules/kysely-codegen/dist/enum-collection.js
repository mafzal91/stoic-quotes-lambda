"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.EnumCollection = void 0;
const case_converter_1 = require("./case-converter");
const nodes_1 = require("./nodes");
const literal_node_1 = require("./nodes/literal-node");
class EnumCollection {
    constructor() {
        this.enums = {};
    }
    add(key, value) {
        var _a;
        ((_a = this.enums)[key] ?? (_a[key] = [])).push(value);
    }
    get(key) {
        return this.enums[key] ?? null;
    }
    getDefinitions() {
        const definitions = {};
        for (const [key, values] of Object.entries(this.enums)) {
            const name = (0, case_converter_1.toPascalCase)(key);
            definitions[name] = nodes_1.UnionExpressionNode.from(values.map((value) => new literal_node_1.LiteralNode(value)));
        }
        return definitions;
    }
    getTypes() {
        const types = {};
        for (const key of Object.keys(this.enums)) {
            types[key] = new nodes_1.IdentifierNode((0, case_converter_1.toPascalCase)(key));
        }
        return types;
    }
    set(key, values) {
        this.enums[key] = values;
    }
}
exports.EnumCollection = EnumCollection;
//# sourceMappingURL=enum-collection.js.map